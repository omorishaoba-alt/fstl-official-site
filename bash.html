#!/bin/bash

# ==============================
# FSTL OSHOBE PWA Git Auto Deploy
# ==============================
# Usage: ./deploy_fstl_oshobe.sh <GitHubRepoURL>
# Example: ./deploy_fstl_oshobe.sh https://github.com/YourUsername/FSTL-OSHOBE-PWA.git
# ==============================

if [ -z "$1" ]; then
    echo "ERROR: Please provide GitHub repository URL as first argument."
    echo "Usage: ./deploy_fstl_oshobe.sh <GitHubRepoURL>"
    exit 1
fi

GITHUB_REPO=$1

echo "Starting FSTL OSHOBE PWA Git deployment..."
echo "Repository: $GITHUB_REPO"

# Step 1: Initialize git if not already
if [ ! -d ".git" ]; then
    git init
    echo "Git repository initialized."
else
    echo "Git repository already exists."
fi

# Step 2: Stage all files
git add .
echo "All files staged."

# Step 3: Commit changes
git commit -m "FSTL OSHOBE PWA ready for deployment â€“ EXECUTE BLAST"
echo "Files committed."

# Step 4: Add remote repository
git remote remove origin 2>/dev/null
git remote add origin $GITHUB_REPO
echo "Remote origin set to $GITHUB_REPO"

# Step 5: Set main branch and push
git branch -M main
git push -u origin main

echo "Deployment complete. Check GitHub repository to confirm files are live."